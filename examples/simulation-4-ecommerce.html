<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulation #4 - E-Commerce Dashboard | Cognivo</title>
  <link rel="stylesheet" href="../packages/tokens/dist/index.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: var(--cg-font-family-primary);
      background: linear-gradient(135deg, var(--cg-blue-100) 0%, var(--cg-gray-50) 100%);
      padding: var(--cg-spacing-24);
      min-height: 100vh;
    }
    .container { max-width: 1600px; margin: 0 auto; }
    header {
      background: var(--cg-gray-white);
      padding: var(--cg-spacing-24);
      border-radius: var(--cg-Border-radius-150);
      margin-bottom: var(--cg-spacing-24);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    h1 {
      font-size: var(--cg-font-size-3xl);
      font-weight: var(--cg-font-weight-bold);
      color: var(--cg-blue-500);
      margin-bottom: 8px;
    }
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--cg-spacing-16);
      margin-bottom: var(--cg-spacing-24);
    }
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--cg-spacing-16);
      margin-bottom: var(--cg-spacing-24);
    }
    .section {
      background: var(--cg-gray-white);
      padding: var(--cg-spacing-24);
      border-radius: var(--cg-Border-radius-150);
      margin-bottom: var(--cg-spacing-24);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    h2 {
      font-size: var(--cg-font-size-xl);
      font-weight: var(--cg-font-weight-semibold);
      margin-bottom: var(--cg-spacing-16);
      color: var(--cg-gray-900);
    }
    .chart-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: var(--cg-spacing-24);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
          <h1>üõçÔ∏è E-Commerce Analytics</h1>
          <p style="color: var(--cg-gray-600);">Real-time store performance dashboard</p>
        </div>
        <div style="display: flex; gap: 16px; align-items: center;">
          <ai-thinking-indicator size="md"></ai-thinking-indicator>
          <ai-confidence-badge score="0.97" show-percentage size="lg"></ai-confidence-badge>
        </div>
      </div>
    </header>

    <!-- KPI Cards -->
    <div class="kpi-grid">
      <kpi-card
        title="Today's Revenue"
        value="$28,450"
        change="+15.3%"
        trend="up"
        period="vs yesterday"
      ></kpi-card>

      <kpi-card
        title="Orders"
        value="1,842"
        change="+8.7%"
        trend="up"
        period="vs yesterday"
      ></kpi-card>

      <kpi-card
        title="Avg. Order Value"
        value="$154.52"
        change="+3.2%"
        trend="up"
        period="vs last week"
      ></kpi-card>

      <kpi-card
        title="Cart Abandonment"
        value="12.4%"
        change="-2.1%"
        trend="down"
        period="improvement"
      ></kpi-card>

      <kpi-card
        title="Conversion Rate"
        value="4.82%"
        change="+0.8%"
        trend="up"
        period="vs last month"
      ></kpi-card>
    </div>

    <!-- Performance Cards -->
    <div class="cards-grid">
      <data-card
        title="Top Product"
        value="Wireless Headphones"
        subtitle="324 units sold today"
        icon="üéß"
        variant="primary"
      ></data-card>

      <data-card
        title="Active Promotions"
        value="12"
        subtitle="Summer Sale active"
        icon="üéØ"
        variant="warning"
      ></data-card>

      <data-card
        title="Customer Satisfaction"
        value="4.8/5.0"
        subtitle="Based on 1,234 reviews"
        icon="‚≠ê"
        variant="success"
      ></data-card>

      <data-card
        title="Stock Alerts"
        value="8 items"
        subtitle="Running low on inventory"
        icon="üì¶"
        variant="danger"
      ></data-card>
    </div>

    <!-- Sales Charts -->
    <div class="chart-grid">
      <div class="section">
        <h2>Weekly Revenue Trend</h2>
        <line-chart id="revenueChart" smooth show-points fill-area show-grid></line-chart>
      </div>

      <div class="section">
        <h2>Top Categories</h2>
        <bar-chart id="categoryChart" show-values show-labels></bar-chart>
      </div>
    </div>

    <!-- Product Performance Table -->
    <div class="section">
      <h2>Top Performing Products</h2>
      <data-table id="productTable" striped hoverable></data-table>
    </div>

    <!-- AI Insights -->
    <div class="section">
      <h2>AI-Powered Insights</h2>
      <ai-result-panel
        title="Daily Sales Analysis"
        status="success"
      >
        <p style="margin-bottom: 16px; line-height: 1.6;">
          üéØ <strong>Peak sales hour:</strong> 2-3 PM (32% of daily revenue)<br>
          üì± <strong>Mobile traffic:</strong> Up 45% - consider mobile-first promotions<br>
          üí∞ <strong>Upsell opportunity:</strong> Customers buying headphones often add cases (+$42 avg)<br>
          üî• <strong>Trending now:</strong> Smart home devices (+156% search volume)
        </p>
        <ai-confidence-badge score="0.91" show-percentage></ai-confidence-badge>
      </ai-result-panel>
    </div>

    <!-- Action Buttons -->
    <div class="section">
      <h2>Quick Actions</h2>
      <div style="display: flex; gap: 12px; flex-wrap: wrap;">
        <ai-action-button action="forecast">Forecast Next Week</ai-action-button>
        <ai-action-button action="detect-anomaly">Detect Sales Anomalies</ai-action-button>
        <ai-action-button action="explain">Explain Trends</ai-action-button>
        <ai-action-button action="summarize">Generate Report</ai-action-button>
      </div>
    </div>
  </div>

  <script type="module">
    import '../packages/components/dist/index.js';

    // Revenue Chart
    document.getElementById('revenueChart').series = [{
      name: 'Daily Revenue',
      data: [
        { label: 'Mon', value: 18400 },
        { label: 'Tue', value: 21200 },
        { label: 'Wed', value: 24800 },
        { label: 'Thu', value: 26100 },
        { label: 'Fri', value: 31200 },
        { label: 'Sat', value: 28450 },
        { label: 'Sun', value: 24600 }
      ],
      color: 'var(--cg-green-500)'
    }];

    // Category Chart
    document.getElementById('categoryChart').data = [
      { label: 'Electronics', value: 125000, color: 'var(--cg-blue-500)' },
      { label: 'Clothing', value: 98000, color: 'var(--cg-blue-400)' },
      { label: 'Home & Garden', value: 76000, color: 'var(--cg-blue-300)' },
      { label: 'Sports', value: 54000, color: 'var(--cg-gray-400)' },
      { label: 'Books', value: 42000, color: 'var(--cg-gray-400)' }
    ];

    // Product Table
    const productTable = document.getElementById('productTable');
    productTable.columns = [
      { key: 'rank', label: '#', width: '60px', sortable: true },
      { key: 'product', label: 'Product', sortable: true },
      { key: 'category', label: 'Category', sortable: true },
      { key: 'sales', label: 'Units Sold', sortable: true },
      { key: 'revenue', label: 'Revenue', sortable: true },
      { key: 'trend', label: 'Trend', sortable: true }
    ];

    productTable.data = [
      { rank: 1, product: 'Wireless Headphones Pro', category: 'Electronics', sales: 324, revenue: '$48,600', trend: '‚Üë 23%' },
      { rank: 2, product: 'Smart Watch Series 5', category: 'Electronics', sales: 298, revenue: '$44,700', trend: '‚Üë 18%' },
      { rank: 3, product: 'Yoga Mat Premium', category: 'Sports', sales: 256, revenue: '$7,680', trend: '‚Üë 12%' },
      { rank: 4, product: 'Coffee Maker Deluxe', category: 'Home & Garden', sales: 234, revenue: '$23,400', trend: '‚Üë 8%' },
      { rank: 5, product: 'Running Shoes', category: 'Sports', sales: 212, revenue: '$21,200', trend: '‚Üë 5%' },
      { rank: 6, product: 'Desk Lamp LED', category: 'Home & Garden', sales: 189, revenue: '$5,670', trend: '‚Üë 15%' },
      { rank: 7, product: 'Backpack Travel', category: 'Clothing', sales: 176, revenue: '$8,800', trend: '‚Üì 3%' },
      { rank: 8, product: 'Plant Pot Set', category: 'Home & Garden', sales: 145, revenue: '$2,900', trend: '‚Üë 28%' }
    ];
  </script>
</body>
</html>
